---
import LinkedIn from "../icons/LinkedIn.astro";
---

<div>
  <a
    id="contact-button"
    class="fixed bottom-6 right-6 h-14 w-14 scale-0 items-center gap-1 rounded-full border border-slate-600 bg-slate-900 px-3 py-2 opacity-0 transition-all duration-300 hover:scale-110 lg:h-auto lg:w-auto"
    class="transform rounded-full bg-blue-500 p-4 text-white shadow-lg"
    href="https://www.linkedin.com/in/francoarossi/"
    target="_blank"
    rel="noopener noreferrer"
  >
    <div class="flex h-full w-full items-center justify-center gap-2">
      <LinkedIn classes="w-6 h-6 lg:w-4 lg:h-4" />
      <span class="hidden lg:block"> Let's connect!</span>
    </div>
  </a>
</div>

<script>
  const linkedInAnchor = document.getElementById("linkedin-anchor");
  const contactButton = document.getElementById("contact-button");

  function handleScroll() {
    const rect = linkedInAnchor?.getBoundingClientRect();
    if (rect && rect.bottom < 0) {
      contactButton?.classList.remove("opacity-0", "scale-0");
    } else {
      contactButton?.classList.add("opacity-0", "scale-0");
    }
  }

  window.addEventListener("scroll", handleScroll);
</script>
