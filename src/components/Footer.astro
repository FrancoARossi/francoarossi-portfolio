---
import { EASTER_EGGS } from "@utils/constants.js";
---

<footer
  class="flex flex-col justify-center gap-2 pb-10 text-center align-middle"
>
  <span class="text-gray-500 dark:text-gray-400"
    >You've found <span id="found-easter-eggs-count"></span> out of {
      Object.keys(EASTER_EGGS).length
    } easter eggs <span id="easter-eggs-icon"></span></span
  >
  <span>
    Made with ğŸ’œ by <a
      id="this-guy"
      href="#"
      class="cursor-pointer select-none underline underline-offset-2"
      >this guy</a
    > ğŸ‘ˆğŸ»
  </span>
</footer>

<script>
  import { updateEasterEggsIcon } from "@utils/functions.js";

  const thisGuy = document.getElementById("this-guy");
  thisGuy?.addEventListener("click", (e) => {
    e.preventDefault();
    window.location.hash = "#";
    scrollTo(0, 0);
  });

  const foundEasterEggs =
    localStorage.getItem("foundEasterEggs")?.split(",") || [];

  const foundEasterEggsCount = document.getElementById(
    "found-easter-eggs-count"
  );

  if (foundEasterEggsCount) {
    foundEasterEggsCount.innerText =
      String(foundEasterEggs.filter(Boolean).length) || "0";
  }

  updateEasterEggsIcon();
</script>
