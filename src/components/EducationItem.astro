---
import { Image } from "astro:assets";

const { image, title, institution, date, description, link } = Astro.props;
---

<li class="pl-4">
  <article class="flex flex-col-reverse gap-4 md:flex-row">
    <div class="flex flex-1 flex-col gap-4">
      <header class="flex flex-col flex-wrap gap-1">
        <div class="flex items-center justify-between gap-4">
          <a
            href={link}
            target="_blank"
            rel="noopener noreferrer"
            class="underline decoration-transparent underline-offset-2 transition-all duration-300 ease-in-out hover:decoration-current"
          >
            <span class="sr-only">
              {institution} or certificate link
            </span>
            <h3 class="text-gray-900 dark:text-white">
              {title}
            </h3>
          </a>
          <time datetime={date} class="text-sm">
            {date}
          </time>
        </div>
        <span class="text-sm font-normal">
          {institution}
        </span>
      </header>
      <p
        class="text-base font-normal text-gray-500 dark:text-gray-400"
        set:html={description || undefined}
      >
        <slot />
      </p>
    </div>
    {
      image && (
        <a href={link} target="_blank" rel="noopener noreferrer">
          <span class="sr-only">{institution} or certificate link</span>
          <figure class="mx-auto flex size-auto max-w-[200px] flex-1 cursor-pointer flex-col gap-2 overflow-hidden rounded-md transition duration-300 ease-in-out hover:scale-110">
            <Image
              src={image}
              alt={title}
              class="h-auto w-full rounded-md shadow-md"
              loading="lazy"
              decoding="async"
            />
          </figure>
        </a>
      )
    }
  </article>
</li>
